/* ================================
   RESET & BASE
================================ */

html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: 'Poppins', sans-serif;
  background: #f2f2f2;
  overflow-x: hidden;
}

body {
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: margin-left 0.3s ease, opacity 0.4s cubic-bezier(.4,0,.2,1);
  background: #ececec;
  font-family: 'SF Pro Display', 'Montserrat', 'Poppins', Arial, sans-serif;
  color: #222;
  min-height: 100vh;
  letter-spacing: 0.01em;
}

/* ================================
   SIDEBAR
================================ */

.menu-toggle {
  position: fixed;
  top: 24px;
  left: 24px;
  font-size: 2.2rem;
  background: rgba(255,255,255,0.35);
  color: #222;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 1rem;
  box-shadow: 0 4px 24px 0 rgba(31, 38, 135, 0.10);
  backdrop-filter: blur(16px) saturate(180%);
  -webkit-backdrop-filter: blur(16px) saturate(180%);
  transition: background 0.3s, color 0.3s, box-shadow 0.3s;
}

.menu-toggle:hover {
  background: rgba(255,255,255,0.55);
  color: #2563eb;
}

.sidebar {
  position: fixed;
  top: 0;
  left: 0;
  width: 260px;
  height: 100%;
  background: rgba(255,255,255,0.25);
  padding: 2.5rem 1.5rem;
  color: #222;
  z-index: 2000;
  box-shadow: 0 12px 32px 0 rgba(31, 38, 135, 0.10);
  backdrop-filter: blur(24px) saturate(180%);
  -webkit-backdrop-filter: blur(24px) saturate(180%);
  border-right: 2px solid rgba(255,255,255,0.18);
  transform: translateX(-110%);
  transition: transform 0.6s cubic-bezier(.77,0,.18,1);
}

.sidebar.open {
  transform: translateX(0);
}

.sidebar h2 {
  text-align: center;
  margin-bottom: 2rem;
  font-size: 1.4rem;
  letter-spacing: 1px;
  font-weight: 700;
  color: #222;
}

.sidebar ul {
  list-style: none;
  padding: 0;
}

.sidebar li {
  margin: 1.2rem 0;
}

.sidebar a {
  color: #222;
  text-decoration: none;
  font-size: 1.13rem;
  display: block;
  padding: 0.7rem 1.2rem;
  border-radius: 0.7rem;
  background: rgba(255,255,255,0.18);
  font-weight: 500;
  letter-spacing: 0.5px;
  transition: background 0.3s, color 0.3s;
}

.sidebar a:hover {
  background: rgba(37,99,235,0.13);
  color: #2563eb;
  font-weight: 600;
}

/* ================================
   HEADER
================================ */

header {
  background: rgba(255,255,255,0.55);
  padding: 2.5rem 0 1.5rem 0;
  width: 100%;
  text-align: center;
  border-radius: 1.5rem;
  margin-top: 5rem;
  margin-bottom: 2.5rem;
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.10);
  backdrop-filter: blur(18px) saturate(180%);
  -webkit-backdrop-filter: blur(18px) saturate(180%);
  border: 2px solid rgba(255,255,255,0.18);
}

header h1 {
  font-size: 2.8rem;
  font-weight: 700;
  margin: 0;
  letter-spacing: 1.5px;
  color: #222;
  font-family: 'SF Pro Display', 'Montserrat', 'Poppins', Arial, sans-serif;
}

/* ================================
   GALLERY
================================ */

.gallery {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 3.5rem;
  width: 100%;
  max-width: 1200px;
  padding: 2.5rem 1.5rem;
  background: rgba(255,255,255,0.18);
  border-radius: 1.5rem;
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.10);
  backdrop-filter: blur(12px) saturate(180%);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
}

.item {
  --pads: 40px;
  --color-sens: calc(var(--glow-sens) + 20);
  --pointer-°: 45deg;
  position: relative;
  width: 100%;
  max-width: 500px;
  border-radius: 1.5rem;
  isolation: isolate;
  transform: translate3d(0, 0, 0.01px);
  display: flex;
  flex-direction: column;
  border: 1px solid rgb(255 255 255 / 25%);
  background: var(--card-bg);
  background-repeat: no-repeat;
  box-shadow: 
    rgba(0, 0, 0, 0.1) 0px 1px 2px, 
    rgba(0, 0, 0, 0.1) 0px 2px 4px, 
    rgba(0, 0, 0, 0.1) 0px 4px 8px, 
    rgba(0, 0, 0, 0.1) 0px 8px 16px, 
    rgba(0, 0, 0, 0.1) 0px 16px 32px, 
    rgba(0, 0, 0, 0.1) 0px 32px 64px;
  transition: transform 0.18s, box-shadow 0.18s;
  &::before,
  &::after,
  & > .glow {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    transition: opacity 0.25s ease-out;
    z-index: -1;
  }
  &:not(:hover):not(.animating) &::before,
  &:not(:hover):not(.animating) &::after,
  &:not(:hover):not(.animating) & > .glow {
    opacity: 0;
    transition: opacity 0.75s ease-in-out;
  }
  &::before {
    border: 1px solid transparent;
    background:
      linear-gradient(var(--card-bg) 0 100%) padding-box,
      linear-gradient(rgb(255 255 255 / 0%) 0% 100%) border-box,
      radial-gradient(at 80% 55%, hsla(268,100%,76%,1) 0px, transparent 50%) border-box,
      radial-gradient(at 69% 34%, hsla(349,100%,74%,1) 0px, transparent 50%) border-box,
      radial-gradient(at 8% 6%, hsla(136,100%,78%,1) 0px, transparent 50%) border-box,
      radial-gradient(at 41% 38%, hsla(192,100%,64%,1) 0px, transparent 50%) border-box,
      radial-gradient(at 86% 85%, hsla(186,100%,74%,1) 0px, transparent 50%) border-box,
      radial-gradient(at 82% 18%, hsla(52,100%,65%,1) 0px, transparent 50%) border-box,
      radial-gradient(at 51% 4%, hsla(12,100%,72%,1) 0px, transparent 50%) border-box,
      linear-gradient(#c299ff 0 100%) border-box;
    opacity: calc((var(--pointer-d) - var(--color-sens)) / (100 - var(--color-sens)));
    mask-image: conic-gradient( from var(--pointer-°) at center, black 25%, transparent 40%, transparent 60%, black 75% );
  }
  &::after {
    border: 1px solid transparent;
    background:
      radial-gradient(at 80% 55%, hsla(268,100%,76%,1) 0px, transparent 50%) padding-box,
      radial-gradient(at 69% 34%, hsla(349,100%,74%,1) 0px, transparent 50%) padding-box,
      radial-gradient(at 8% 6%, hsla(136,100%,78%,1) 0px, transparent 50%) padding-box,
      radial-gradient(at 41% 38%, hsla(192,100%,64%,1) 0px, transparent 50%) padding-box,
      radial-gradient(at 86% 85%, hsla(186,100%,74%,1) 0px, transparent 50%) padding-box,
      radial-gradient(at 82% 18%, hsla(52,100%,65%,1) 0px, transparent 50%) padding-box,
      radial-gradient(at 51% 4%, hsla(12,100%,72%,1) 0px, transparent 50%) padding-box,
      linear-gradient(#c299ff 0 100%) padding-box;
    mask-image:
      linear-gradient( to bottom, black, black ),
      radial-gradient( ellipse at 50% 50%, black 40%, transparent 65% ),
      radial-gradient( ellipse at 66% 66%, black 5%, transparent 40% ),
      radial-gradient( ellipse at 33% 33%, black 5%, transparent 40% ),
      radial-gradient( ellipse at 66% 33%, black 5%, transparent 40% ),
      radial-gradient( ellipse at 33% 66%, black 5%, transparent 40% ),
      conic-gradient( from var(--pointer-°) at center, transparent 5%, black 15%, black 85%, transparent 95% );
    mask-composite: subtract,add,add,add,add,add;
    opacity: calc((var(--pointer-d) - var(--color-sens)) / (100 - var(--color-sens)));
    mix-blend-mode: var(--blend);
  }
  & > .glow {
    --outset: var(--pads);
    inset: calc(var(--outset) * -1);
    pointer-events: none;
    z-index: 1;
    mask-image: conic-gradient( from var(--pointer-°) at center, black 2.5%, transparent 10%, transparent 90%, black 97.5% );
    opacity: calc((var(--pointer-d) - var(--glow-sens)) / (100 - var(--glow-sens)));
    mix-blend-mode: var(--glow-blend);
    &::before {
      content: "";
      position: absolute;
      inset: var(--outset);
      border-radius: inherit;
      box-shadow: 
        inset 0 0 0 1px hsl( var(--glow-color) / 100%), 
        inset 0 0 1px 0 hsl( var(--glow-color) / calc(var(--glow-boost) + 60%)), 
        inset 0 0 3px 0 hsl( var(--glow-color) / calc(var(--glow-boost) + 50%)), 
        inset 0 0 6px 0 hsl( var(--glow-color) / calc(var(--glow-boost) + 40%)), 
        inset 0 0 15px 0 hsl( var(--glow-color) / calc(var(--glow-boost) + 30%)), 
        inset 0 0 25px 2px hsl( var(--glow-color) / calc(var(--glow-boost) + 20%)), 
        inset 0 0 50px 2px hsl( var(--glow-color) / calc(var(--glow-boost) + 10%)), 
        0 0 1px 0 hsl( var(--glow-color) / calc(var(--glow-boost) + 60%)), 
        0 0 3px 0 hsl( var(--glow-color) / calc(var(--glow-boost) + 50%)), 
        0 0 6px 0 hsl( var(--glow-color) / calc(var(--glow-boost) + 40%)), 
        0 0 15px 0 hsl( var(--glow-color) / calc(var(--glow-boost) + 30%)), 
        0 0 25px 2px hsl( var(--glow-color) / calc(var(--glow-boost) + 20%)), 
        0 0 50px 2px hsl( var(--glow-color) / calc(var(--glow-boost) + 10%));
    }
  }
}

.item:hover {
  transform: translateY(-8px) scale(1.04);
  box-shadow: 0 14px 40px 0 rgba(31, 38, 135, 0.18);
}

.item img {
  width: 100%;
  max-width: 340px;
  border-radius: 0.7rem;
  margin-bottom: 1.2rem;
  box-shadow: 0 2px 12px 0 rgba(31, 38, 135, 0.10);
}

.description {
  margin-top: 1rem;
  font-size: 1.05rem;
  color: #222;
  line-height: 1.5;
  font-family: 'Poppins', Arial, sans-serif;
}

.item .content {
  padding: 1.5em;
}

/* ================================
   FOOTER
================================ */

.main-footer {
  margin-top: auto;
  padding: 2rem 1rem;
  background: rgba(255,255,255,0.38);
  text-align: center;
  width: 100%;
  font-size: 1.08rem;
  border-radius: 1rem;
  box-shadow: 0 4px 24px 0 rgba(31, 38, 135, 0.10);
  backdrop-filter: blur(12px) saturate(180%);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  border: 2px solid rgba(255,255,255,0.18);
  color: #222;
}

.main-footer p {
  margin: 0.5rem 0;
}

/* ================================
   BUTTONS
================================ */

.project-btn {
  margin: 1.2rem auto 0 auto;
  display: block;
  padding: 1rem 2.7rem;
  font-size: 1.18rem;
  font-weight: 700;
  border: none;
  border-radius: 2rem;
  background: rgba(255,255,255,0.22);
  color: #222;
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.18), 0 2px 8px 0 rgba(31,38,135,0.10);
  backdrop-filter: blur(10px) saturate(180%);
  -webkit-backdrop-filter: blur(10px) saturate(180%);
  cursor: pointer;
  transition: 
    background 0.3s cubic-bezier(.4,0,.2,1),
    color 0.3s cubic-bezier(.4,0,.2,1),
    box-shadow 0.3s cubic-bezier(.4,0,.2,1),
    transform 0.18s;
}

.project-btn:hover, .project-btn:focus {
  background: rgba(37,99,235,0.13);
  color: #2563eb;
  box-shadow: 0 16px 40px 0 rgba(31, 38, 135, 0.22), 0 4px 12px 0 rgba(31,38,135,0.12);
  transform: translateY(-4px) scale(1.06);
}

/* ================================
   RESPONSIVE DESIGN
================================ */

/* Tablets */
@media (max-width: 1024px) {
  header h1 {
    font-size: 2rem;
  }
}

/* Móviles grandes */
@media (max-width: 768px) {

  .sidebar {
    width: 70%;
    max-width: 260px;
    left: -100%;
  }

  .sidebar.open {
    left: 0;
  }

  body.menu-open {
    margin-left: 0;
  }

  .gallery {
    flex-direction: column;
    gap: 2rem;
  }

  header h1 {
    font-size: 1.8rem;
  }

  .item img {
    max-width: 260px;
  }
}

/* Móviles pequeños */
@media (max-width: 480px) {

  .menu-toggle {
    font-size: 1.6rem;
  }

  header {
    padding: 1rem 0;
  }

  header h1 {
    font-size: 1.5rem;
  }

  .item {
    padding: 0.8rem;
  }

  .item img {
    max-width: 220px;
  }

  .description {
    font-size: 0.85rem;
  }

  .main-footer {
    font-size: 0.85rem;
  }
}
/* ============================================================
     RESPONSIVE – MÓVIL REAL
     ============================================================ */
  @media (max-width: 768px) {
  
    header h1 {
      font-size: 1.6rem;
    }
  
    nav a, .navbar a {
      padding: 8px 14px;
    }
  
    .card {
      width: 90%;
      height: auto;
    }
  
    .project-page {
      padding: 40px 15px;
    }
  }
/* ================================
   FIX REAL PARA MÓVILES
================================ */

@media (max-width: 600px) {

  /* Header más pequeño y estable */
  header {
    padding: 0.8rem 0.5rem;
    margin-top: 3.5rem; /* deja espacio para el botón menú */
  }

  header h1 {
    font-size: 1.4rem;
    line-height: 1.2;
    word-break: break-word;
    text-align: center;
    padding: 0 1rem;
  }

  /* Evitar que el título empuje todo */
  body {
    padding: 0 0.5rem;
  }

  /* Galería en una sola columna */
  .gallery {
    flex-direction: column;
    gap: 1.5rem;
    margin-top: 1rem;
  }

  /* Items más compactos */
  .item {
    max-width: 95%;
    padding: 0.8rem;
  }

  /* Imágenes fluidas */
  .item img {
    max-width: 100%;
    width: 100%;
  }

  /* Sidebar más pequeño */
  .sidebar {
    width: 75%;
    left: -100%;
  }

  .sidebar.open {
    left: 0;
  }

  /* Botón menú más pequeño */
  .menu-toggle {
    font-size: 1.4rem;
    top: 10px;
    left: 10px;
  }
}

/* ================================
   GLASSMORPHISM EFFECT
================================ */
.glass {
  background: rgba(255, 255, 255, 0.18);
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.18);
  backdrop-filter: blur(12px) saturate(180%);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  border-radius: 1.2rem;
  border: 1.5px solid rgba(255, 255, 255, 0.28);
}

body {
  transition: opacity 0.4s cubic-bezier(.4,0,.2,1);
}

/* Tema oscuro */
body.dark-theme {
  background: linear-gradient(135deg, #18181b 0%, #22223b 100%);
  color: #f3f3f3;
}
body.dark-theme .sidebar,
body.dark-theme header,
body.dark-theme .gallery,
body.dark-theme .item,
body.dark-theme .main-footer {
  background: rgba(30, 41, 59, 0.85) !important;
  color: #f3f3f3 !important;
  border-color: rgba(255,255,255,0.08) !important;
}
body.dark-theme .sidebar a {
  color: #f3f3f3 !important;
  background: rgba(255,255,255,0.05) !important;
}
body.dark-theme .sidebar a:hover {
  background: rgba(255,255,255,0.18) !important;
  color: #ffe066 !important;
}
body.dark-theme .glass {
  background: rgba(30, 41, 59, 0.65) !important;
  color: #f3f3f3 !important;
}
body.dark-theme .description {
  color: #f3f3f3 !important;
}
body.dark-theme .project-btn {
  background: rgba(30, 41, 59, 0.45);
  color: #f3f3f3;
  box-shadow: 0 6px 24px 0 rgba(31, 38, 135, 0.28), 0 1.5px 6px 0 rgba(31,38,135,0.18);
}
body.dark-theme .project-btn:hover, body.dark-theme .project-btn:focus {
  background: rgba(30, 41, 59, 0.65);
  color: #ffe066;
  box-shadow: 0 12px 32px 0 rgba(31, 38, 135, 0.32), 0 2px 8px 0 rgba(31,38,135,0.22);
}

body.dark-theme header {
  background: rgba(30, 41, 59, 0.92) !important;
  color: #f3f3f3 !important;
  border-color: rgba(255,255,255,0.08) !important;
}

body.dark-theme header h1 {
  color: #f3f3f3 !important;
  text-shadow: 0 2px 12px rgba(0,0,0,0.18);
}

/* Transiciones suaves para glass y fondo */
body,
.sidebar,
header,
.gallery,
.item,
.main-footer,
.glass {
  transition: 
    background 1.5s cubic-bezier(.4,0,.2,1),
    color 1.5s cubic-bezier(.4,0,.2,1),
    border-color 1.5s cubic-bezier(.4,0,.2,1);
}

body.fade-out {
  opacity: 0;
  transition: opacity 0.4s cubic-bezier(.4,0,.2,1);
}

/* ================================
   APPEAR ANIMATION
================================ */

.page-appear {
  opacity: 0;
  transform: translateY(24px);
  transition: opacity 0.7s cubic-bezier(.4,0,.2,1), transform 0.7s cubic-bezier(.4,0,.2,1);
}
.page-appear.page-appear-active {
  opacity: 1;
  transform: translateY(0);
}

#fade-bg {
  position: fixed;
  top: 0; left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 9999;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.4s cubic-bezier(.4,0,.2,1);
  background: #fff;
}

body.fade-out #fade-bg {
  opacity: 1;
}

body.dark-theme #fade-bg {
  background: #18181b !important;
}
/* ================================
   TOGGLE SWITCH – TEMA CLARO/OSCURO
================================ */

.theme-switch {
  position: fixed;
  top: 15px;
  right: 15px;
  z-index: 5000;
}

.theme-switch input {
  display: none;
}

.theme-switch label {
  width: 60px;
  height: 30px;
  background: rgba(255,255,255,0.35);
  display: block;
  border-radius: 30px;
  position: relative;
  cursor: pointer;
  backdrop-filter: blur(12px) saturate(180%);
  box-shadow: 0 4px 16px rgba(0,0,0,0.15);
  transition: background 0.4s ease;
}

.theme-switch label::after {
  content: "";
  width: 26px;
  height: 26px;
  background: white;
  border-radius: 50%;
  position: absolute;
  top: 2px;
  left: 2px;
  transition: transform 0.4s cubic-bezier(.4,0,.2,1);
  box-shadow: 0 4px 12px rgba(0,0,0,0.25);
}

.theme-switch input:checked + label {
  background: rgba(37,99,235,0.45);
}

.theme-switch input:checked + label::after {
  transform: translateX(30px);
}
/* ================================
   LIQUID GLASS – EFECTO GLOBAL
================================ */

.glass,
header,
.main-footer,
.sidebar,
.project-btn,
.custom-button,
.item {
  background: rgba(255,255,255,0.22) !important;
  backdrop-filter: blur(18px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(18px) saturate(180%) !important;
  border-radius: 1.2rem !important;
  border: 1.5px solid rgba(255,255,255,0.28) !important;
  box-shadow: 0 8px 32px rgba(31,38,135,0.18) !important;
  transition: background 0.5s ease, box-shadow 0.5s ease;
}

.glass:hover,
.project-btn:hover,
.custom-button:hover {
  background: rgba(255,255,255,0.32) !important;
  box-shadow: 0 12px 40px rgba(31,38,135,0.25) !important;
}
body.dark-theme .glass,
body.dark-theme header,
body.dark-theme .main-footer,
body.dark-theme .sidebar,
body.dark-theme .item,
body.dark-theme .project-btn,
body.dark-theme .custom-button {
  background: rgba(30,41,59,0.55) !important;
  border-color: rgba(255,255,255,0.08) !important;
  box-shadow: 0 8px 32px rgba(0,0,0,0.45) !important;
}
